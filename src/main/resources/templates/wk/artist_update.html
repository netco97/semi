<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>타이틀 | 아티스트 프로필 수정</title>
<link rel="stylesheet" href="/css/artist_reg.css">
<script>
	const composerId = `[(${composer.composer_id})]`;
</script>
</head>
<body>
    <form id="artistForm" method="post" enctype="multipart/form-data">
		<main>
        <h2 class="title">アーティストプロフィールの修正</h2>
        
        <section class="sectionLeft">
        <div class="profileTitle">プロフィール写真</div>
            <div id="ProfileContainer">
        	<!-- <img id="ProfilePreview" th:src="@{'/images/profile/' + ${composer.composer_img}}"> -->
        	<img id="ProfilePreview" th:src="@{'/images/profile/' + ${composer.composer_img}}">
        	<div class="Profile-btn">
        	<label for="file">
        	  <div class="btn-upload">写真登録</div>
			</label>
        	<input type="file" id="file" name="composer_profilePicture" accept="image/*" onchange="showProfilePicture(this);">
			</div>
			<p id="fileName"></p>
        	  <div class="btn-useDefault" onclick="useDefaultProfile()">基本プロフィール写真を使用</div>
        	  </div>
       	</section>
        <section class="sectionRight">
	       <div class="profileTitle">アーティスト名</div>
	        <input type="text" name="composer_name" maxlength="10" th:value="${composer.composer_name}">
	        <div class="profileTitle">主にするジャンル</div>
	        <select id="musicGenre" name="composer_genre" multiple>
	            <!-- 선택된 장르 데이터에 따라 option에 selected 속성 추가 -->
	            <option value="ポップ" th:selected="${#strings.contains(composer.composer_genre, 'ポップ')}">ポップ</option>
	            <option value="ダンス" th:selected="${#strings.contains(composer.composer_genre, 'ダンス')}">ダンス</option>
	            <option value="エレクトロニック" th:selected="${#strings.contains(composer.composer_genre, 'エレクトロニック')}">エレクトロニック</option>
	            <option value="ヒップホップ" th:selected="${#strings.contains(composer.composer_genre, 'ヒップホップ')}">ヒップホップ</option>
	            <option value="R&B" th:selected="${#strings.contains(composer.composer_genre, 'R&B')}">R&B</option>
	            <option value="クラシック" th:selected="${#strings.contains(composer.composer_genre, 'クラシック')}">クラシック</option>
	            <option value="ニューエイジ" th:selected="${#strings.contains(composer.composer_genre, 'ニューエイジ')}">ニューエイジ</option>
	            <option value="ロック" th:selected="${#strings.contains(composer.composer_genre, 'ロック')}">ロック</option>
	            <option value="バラード" th:selected="${#strings.contains(composer.composer_genre, 'バラード')}">バラード</option>
			    <option value="インディ" th:selected="${#strings.contains(composer.composer_genre, 'インディ')}">インディ</option>
			    <option value="ジャズ／スウィング" th:selected="${#strings.contains(composer.composer_genre, 'ジャズ／スウィング')}">ジャズ／スウィング</option>
			    <option value="ラテン" th:selected="${#strings.contains(composer.composer_genre, 'ラテン')}">ラテン</option>
			    <option value="伝統音楽" th:selected="${#strings.contains(composer.composer_genre, '伝統音楽')}">伝統音楽</option>
			    <option value="ワールドミュージック" th:selected="${#strings.contains(composer.composer_genre, 'ワールドミュージック')}">ワールドミュージック</option>
			    <option value="アンビエント" th:selected="${#strings.contains(composer.composer_genre, 'アンビエント')}">アンビエント</option>
			    <option value="演歌" th:selected="${#strings.contains(composer.composer_genre, '演歌')}">演歌</option>
			    <option value="その他" th:selected="${#strings.contains(composer.composer_genre, 'その他')}">その他</option>
	            <!-- 나머지 장르들도 동일하게 처리 -->
	        </select>
	        	<div class="profileTitle">自己紹介</div>
	        	<textarea class="introduce" name="composer_text" maxlength="300" th:text="${composer.composer_text}"></textarea>
        	</section>
        		<input type="hidden" name="userFullPhoneNumber" th:value="${composer.composer_id}">
			<div class="button-box">
		        <button type="submit" onclick="submitForm();">修整</button>
		        <button type="button" onclick="cancelProfileUpdate()">キャンセル</button>
	        </div>
		</main>        
    </form>
<script type="text/javascript" src="/js/artist_update.js"></script>
</body>
</html>